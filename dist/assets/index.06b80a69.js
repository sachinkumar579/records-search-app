var T=Object.defineProperty,U=Object.defineProperties;var F=Object.getOwnPropertyDescriptors;var C=Object.getOwnPropertySymbols;var V=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable;var M=(e,r,a)=>r in e?T(e,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[r]=a,x=(e,r)=>{for(var a in r||(r={}))V.call(r,a)&&M(e,a,r[a]);if(C)for(var a of C(r))G.call(r,a)&&M(e,a,r[a]);return e},y=(e,r)=>U(e,F(r));import{j as S,r as f,R as $,a as q}from"./vendor.388569d3.js";const K=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))c(l);new MutationObserver(l=>{for(const n of l)if(n.type==="childList")for(const N of n.addedNodes)N.tagName==="LINK"&&N.rel==="modulepreload"&&c(N)}).observe(document,{childList:!0,subtree:!0});function a(l){const n={};return l.integrity&&(n.integrity=l.integrity),l.referrerpolicy&&(n.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?n.credentials="include":l.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(l){if(l.ep)return;l.ep=!0;const n=a(l);fetch(l.href,n)}};K();const t=S.exports.jsx,m=S.exports.jsxs,z=e=>typeof e!="string"?!1:!isNaN(e)&&!isNaN(parseFloat(e)),J=e=>{let r;return z(e.val.replaceAll(" ","").replaceAll("-",""))?r=["Registered Id","Group Number","Frame Number"]:r=["Client Name","Roll Number"],t("div",{className:"display-search",children:r.map((a,c)=>{const l=`${a} : ${e.val}`;return t("div",{onClick:()=>e.fetchClientData(a,e.val),className:"row",tabIndex:0,onKeyUp:n=>{n.key=="Enter"&&e.fetchClientData(a,e.val)},children:l},c)})})},Z=e=>t("div",{className:"container flex mx-auto",children:t("div",{className:"flex border-2 rounded",children:t("input",{type:"text",className:"px-4 py-2 w-80",placeholder:"Search...",onChange:r=>e.setSearchText(r.target.value),onClick:r=>e.setSearchText(r.target.value)})})}),Q=e=>t("div",{className:"container flex justify-center mx-auto mt-10",children:t("div",{className:"flex flex-col",children:t("div",{className:"w-full",children:t("div",{className:"border border-gray-200 shadow",children:m("table",{className:"divide-y divide-gray-300 ",children:[t("thead",{className:"bg-gray-50",children:t("tr",{children:e.tableHeader.map((r,a)=>t("th",{className:"px-6 py-2 text-sm text-gray-700",children:r},a))})}),t("tbody",{className:"bg-white divide-y divide-gray-300",children:e.searchResults.map((r,a)=>m("tr",{className:"whitespace - nowrap",children:[e.tableHeader.map((c,l)=>t("td",{className:"px-6 py-4 text-sm text-gray-700 ",children:r[c.charAt(0).toLowerCase()+c.replaceAll(" ","").slice(1)]},l)),t("td",{className:"px-6 py-4",children:t("a",{href:"#",className:"px-4 py-1 text-sm text-white bg-blue-400 rounded",onClick:()=>{e.setShowUploadForm(!1),e.setShowEditData(r)},children:"Edit"})}),t("td",{className:"px-6 py-4",children:t("a",{href:"#",className:"px-4 py-1 text-sm text-white bg-red-400 rounded",onClick:()=>{e.setShowUploadForm(!1),e.deleteClientData(r),e.setMaskRow({})},children:"Delete"})})]},a))})]})})})})}),D=e=>m(f.exports.Fragment,{children:[t("label",{htmlFor:e.header,className:"block mb-2 text-sm text-gray-600",children:e.header}),t("input",{title:"Must contain 2 to 15 characters",pattern:"[a-zA-Z0-9 ]{2,15}",defaultValue:e.defaultValue,name:e.header,type:"text",required:!0,disabled:e.disabled,className:"w-full px-3 py-2 placeholder-gray-300 border border-gray-300 rounded-md  focus:outline-none focus:ring focus:ring-indigo-100 focus:border-indigo-300"})]}),A=e=>t("button",{type:"submit",className:"w-full px-2 py-4 text-white bg-indigo-600 rounded-md  focus:bg-indigo-500 focus:outline-none",children:e.value}),I=e=>t("button",{type:"submit",className:"w-full px-2 py-4 text-white bg-red-600 rounded-md  focus:bg-red-500 focus:outline-none",onClick:e.onCancelHandler,children:e.value}),W=e=>t("div",{className:"add-form border border-gray-400 shadow",children:t("div",{className:"container mx-auto",children:t("div",{className:"max-w-xl p-2 mx-auto my-10 bg-white rounded-md shadow-sm",children:t("div",{children:m("form",{autoComplete:"off",onSubmit:r=>{r.preventDefault(),e.addClientData(r.target)},children:[e.headers.map((r,a)=>t("div",{className:"mb-2",children:t(D,{header:r})},a)),t("div",{className:"mb-2",children:t(A,{value:"Add"})}),t("div",{className:"mb-2",children:t(I,{value:"Cancel",onCancelHandler:()=>e.setShowUploadForm(!1)})})]})})})})}),X=e=>t("div",{className:"edit-form border border-gray-400 shadow",children:t("div",{className:"container mx-auto ",children:t("div",{className:"max-w-xl p-2 mx-auto my-10 bg-white rounded-md shadow-sm",children:t("div",{children:m("form",{autoComplete:"off",onSubmit:r=>{r.preventDefault(),e.updateClientData(r.target)},children:[e.headers.map((r,a)=>{const c=r.charAt(0).toLowerCase()+r.replaceAll(" ","").slice(1);return t("div",{className:"mb-2",children:t(D,{defaultValue:e.editData[c],disabled:c=="registeredId",header:r})},a)}),t("div",{className:"mb-2",children:t(A,{value:"Save"})}),t("div",{className:"mb-2",children:t(I,{value:"Cancel",onCancelHandler:()=>{e.setMaskRow({}),e.setShowEditData(!1)}})})]})})})})});var Y=[{registeredId:"67691645",clientName:"admin",groupNumber:"545451",frameNumber:"223231",rollNumber:"ABC86881",uploadDate:"2/21/2022 2:40:32 PM",lastModified:"2/21/2022 2:40:32 PM"},{registeredId:"67691646",clientName:"admin",groupNumber:"545452",frameNumber:"223232",rollNumber:"ABC86882",uploadDate:"1/21/2022 2:40:32 PM",lastModified:"1/21/2022 2:40:32 PM"},{registeredId:"67691647",clientName:"admin",groupNumber:"545453",frameNumber:"223233",rollNumber:"ABC86883",uploadDate:"1/21/2022 1:40:32 PM",lastModified:"1/21/2022 1:40:32 PM"},{registeredId:"67691648",clientName:"admin",groupNumber:"545454",frameNumber:"223234",rollNumber:"ABC86884",uploadDate:"3/20/2022 10:40:32 PM",lastModified:"3/20/2022 10:40:32 PM"},{registeredId:"67691649",clientName:"admin",groupNumber:"545455",frameNumber:"223235",rollNumber:"ABC86885",uploadDate:"2/10/2022 5:40:32 AM",lastModified:"2/10/2022 5:40:32 AM"},{registeredId:"67691650",clientName:"admin",groupNumber:"545456",frameNumber:"223236",rollNumber:"ABC86886",uploadDate:"3/20/2022 2:40:32 PM",lastModified:"3/21/2022 2:40:32 PM"},{registeredId:"67691651",clientName:"admin",groupNumber:"545457",frameNumber:"223237",rollNumber:"ABC86887",uploadDate:"3/20/2022 2:40:32 PM",lastModified:"3/21/2022 2:40:32 PM"},{registeredId:"67691652",clientName:"admin",groupNumber:"545458",frameNumber:"223238",rollNumber:"ABC86888",uploadDate:"3/20/2022 2:40:32 PM",lastModified:"3/20/2022 2:40:32 PM"}];const _=()=>t("div",{className:"flex justify-center mt-2 mt-20",children:m("div",{className:"flex flex-col justify-between w-1/1 px-10 py-2 text-red-700 bg-red-100 rounded",children:[t("h5",{className:"font-bold",children:"No records found "}),t("p",{className:"text-sm",children:"Sorry , we could not find any records for the search"})]})});const ee=()=>{const[e,r]=f.exports.useState(Y),[a,c]=f.exports.useState(""),[l,n]=f.exports.useState([]),[N,b]=f.exports.useState(!1),[v,h]=f.exports.useState({}),[R,g]=f.exports.useState(""),L=["Client Name","Group Number","Frame Number","Roll Number"],k=["Registered Id","Client Name","Group Number","Frame Number","Roll Number"],P=["Registered Id","Client Name","Group Number","Frame Number","Roll Number","Upload Date","Last Modified"],w=(d,o)=>{let u=[];e.forEach(s=>{for(const[p,i]of Object.entries(s))d.replaceAll(" ","").toLowerCase()===p.toLowerCase()&&i===o&&u.push(s)}),c(""),n(u),h({}),b(!1),g("")},j=d=>{const o={},u=new Date;for(let s=0;s<d.elements.length;s++)if(d.elements[s].type=="text"||d.elements[s].type=="number"){const p=d.elements[s].name.charAt(0).toLowerCase()+d.elements[s].name.replaceAll(" ","").slice(1);o[p]=d.elements[s].value}o.registeredId=Math.round(1e8*Math.random()),o.uploadDate=u.toLocaleDateString()+" "+u.toLocaleTimeString(),o.lastModified=u.toLocaleDateString()+" "+u.toLocaleTimeString(),r(s=>[...s,o]),c(""),h({}),b(!1)},B=d=>{let o=e.filter(s=>d.registeredId!=s.registeredId),u=l.filter(s=>d.registeredId!=s.registeredId);r(o),n(u),h({})},E=()=>{h({}),b(!0),g("")},H=d=>{const o={},u=new Date;for(let i=0;i<d.elements.length;i++)if(d.elements[i].type=="text"||d.elements[i].type=="number"){const O=d.elements[i].name.charAt(0).toLowerCase()+d.elements[i].name.replaceAll(" ","").slice(1);o[O]=d.elements[i].value}o.lastModified=u.toLocaleDateString()+" "+u.toLocaleTimeString();let s=e.map(i=>o.registeredId==i.registeredId?y(x({},o),{uploadDate:i.uploadDate}):i),p=l.map(i=>o.registeredId==i.registeredId?y(x({},o),{uploadDate:i.uploadDate}):i);r(s),n(p),h({}),g("")};return f.exports.useEffect(()=>{w("clientName","admin")},[]),m(f.exports.Fragment,{children:[m("div",{className:"container",children:[m("div",{className:"flex flex-row",children:[m("div",{children:[t(Z,{setSearchText:c}),a.trim().length>0&&t(J,{val:a.trim(),fetchClientData:w})]}),t("button",{className:"px-10 py-2 text-white bg-indigo-600 mx-10 rounded-md",type:"button",onClick:E,children:"Add"})]}),!l.length==0?t(Q,{tableHeader:P,searchResults:l,setShowEditData:h,deleteClientData:B,setShowUploadForm:b,setMaskRow:g,maskRow:R}):t(_,{})]}),!Object.keys(v).length==0&&t(X,{headers:k,setShowEditData:h,editData:v,setMaskRow:g,updateClientData:H}),N&&t(W,{headers:L,setShowUploadForm:b,addClientData:j})]})};$.render(t(q.StrictMode,{children:t(ee,{})}),document.getElementById("root"));
