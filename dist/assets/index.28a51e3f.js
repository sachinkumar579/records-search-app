var F=Object.defineProperty,j=Object.defineProperties;var U=Object.getOwnPropertyDescriptors;var w=Object.getOwnPropertySymbols;var B=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable;var C=(t,r,a)=>r in t?F(t,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[r]=a,g=(t,r)=>{for(var a in r||(r={}))B.call(r,a)&&C(t,a,r[a]);if(w)for(var a of w(r))_.call(r,a)&&C(t,a,r[a]);return t},x=(t,r)=>j(t,U(r));import{j as D,r as b,R as H,a as O}from"./vendor.388569d3.js";const T=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))d(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&d(c)}).observe(document,{childList:!0,subtree:!0});function a(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerpolicy&&(s.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?s.credentials="include":l.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function d(l){if(l.ep)return;l.ep=!0;const s=a(l);fetch(l.href,s)}};T();const z="_row_zi81e_1";var S={row:z,"display-search":"_display-search_zi81e_18"};const e=D.exports.jsx,h=D.exports.jsxs,G=t=>typeof t!="string"?!1:!isNaN(t)&&!isNaN(parseFloat(t)),$=t=>{let r;return G(t.val.replaceAll(" ","").replaceAll("-",""))?r=["Registered Id","Group Number","Frame Number"]:r=["Client Name","Roll Number"],e("div",{className:S["display-search"],children:r.map((a,d)=>{const l=`${a} : ${t.val}`;return e("div",{onClick:()=>t.fetchClientData(a,t.val),className:S.row,tabIndex:0,onKeyUp:s=>{s.key=="Enter"&&t.fetchClientData(a,t.val)},children:l},d)})})},Z=t=>e("div",{className:"container flex mx-auto",children:e("div",{className:"flex border-2 rounded",children:e("input",{type:"text",className:"px-4 py-2 w-80",placeholder:"Search...",onChange:r=>t.setSearchText(r.target.value),onClick:r=>t.setSearchText(r.target.value)})})});var q={"search-results":"_search-results_1kav1_1"};const V=t=>e("div",{children:e("div",{className:"container flex justify-center mx-auto",children:e("div",{className:"flex flex-col",children:e("div",{className:"w-full",children:e("div",{className:"border border-gray-200 shadow",children:h("table",{className:"divide-y divide-gray-300 ",children:[e("thead",{className:"bg-gray-50",children:e("tr",{children:t.cols.map((r,a)=>e("th",{className:"px-6 py-2 text-sm text-gray-700",children:r},a))})}),e("tbody",{className:"bg-white divide-y divide-gray-300",children:t.searchResults.map((r,a)=>h("tr",{className:"whitespace-nowrap",children:[e("td",{className:"px-6 py-4 text-sm text-gray-700",children:r.registeredId}),e("td",{className:"px-6 py-4 text-sm text-gray-700",children:r.clientName}),e("td",{className:"px-6 py-4 text-sm text-gray-700",children:r.groupNumber}),e("td",{className:"px-6 py-4 text-sm text-gray-700",children:r.frameNumber}),e("td",{className:"px-6 py-4 text-sm text-gray-700",children:r.rollNumber}),e("td",{className:"px-6 py-4 text-sm text-gray-700",children:r.uploadDate}),e("td",{className:"px-6 py-4 text-sm text-gray-700",children:r.lastModified}),e("td",{className:"px-6 py-4",children:e("a",{href:"#",className:"px-4 py-1 text-sm text-white bg-blue-400 rounded",onClick:()=>{t.setShowUploadForm(!1),t.setShowEditData(r)},children:"Edit"})}),e("td",{className:"px-6 py-4",children:e("a",{href:"#",className:"px-4 py-1 text-sm text-white bg-red-400 rounded",onClick:()=>{t.setShowUploadForm(!1),t.deleteClientData(r)},children:"Delete"})})]},a))})]})})})})})}),K=t=>e("div",{className:q["search-results"],children:e(V,{cols:t.tableHeader,searchResults:t.searchResults,setShowEditData:t.setShowEditData,deleteClientData:t.deleteClientData,setShowUploadForm:t.setShowUploadForm})});function J(t){const r=d=>{d.preventDefault(),t.addClientData(d.target)},a=Math.round(1e8*Math.random());return e("div",{className:"upload-form border border-gray-400 shadow",children:e("div",{className:"container mx-auto",children:e("div",{className:"max-w-xl p-2 mx-auto my-10 bg-white rounded-md shadow-sm",children:e("div",{children:h("form",{autoComplete:"off",onSubmit:r,children:[h("div",{className:"mb-2",children:[e("label",{htmlFor:"Registered Id",className:"block mb-2 text-sm text-gray-600",children:"Registered Id"}),e("input",{id:"Registered Id",name:"Registered Id",type:"text",value:a,disabled:!0,className:"w-full px-3 py-2 placeholder-gray-300 border border-gray-300 rounded-md  focus:outline-none focus:ring focus:ring-indigo-100 focus:border-indigo-300"})]}),t.headers.map((d,l)=>{let s,c,u;return d=="Client Name"?(s="Must contain 2 to 20 characters",c="text",u="[a-zA-Z ]{2,15}"):d=="Group Number"||d=="Frame Number"?(s="Must contain 2 to 20 digits",c="number",u="[0-9 ]{2,15}"):d=="Roll Number"&&(s="Must contain 2 to 20 characters",c="text",u="[a-zA-Z0-9 ]{2,15}"),h("div",{className:"mb-2",children:[e("label",{htmlFor:d,className:"block mb-2 text-sm text-gray-600",children:d}),e("input",{id:d,title:s,pattern:u,name:d,type:c,required:!0,className:"w-full px-3 py-2 placeholder-gray-300 border border-gray-300 rounded-md  focus:outline-none focus:ring focus:ring-indigo-100 focus:border-indigo-300"})]},l)}),e("div",{className:"mb-2",children:e("button",{type:"submit",className:"w-full px-2 py-4 text-white bg-indigo-600 rounded-md  focus:bg-indigo-500 focus:outline-none",children:"Add"})}),e("div",{className:"mb-2",children:e("button",{type:"submit",className:"w-full px-2 py-4 text-white bg-red-600 rounded-md  focus:bg-red-500 focus:outline-none",onClick:d=>t.setShowUploadForm(!1),children:"Cancel"})})]})})})})})}function Q(t){return e("div",{className:"edit-form border border-gray-400 shadow",children:e("div",{className:"container mx-auto ",children:e("div",{className:"max-w-xl p-2 mx-auto my-10 bg-white rounded-md shadow-sm",children:e("div",{children:h("form",{autoComplete:"off",onSubmit:a=>{a.preventDefault(),t.updateClientData(a.target)},children:[t.headers.map((a,d)=>{let l,s,c;a=="Client Name"?(l="Must contain 2 to 20 characters",s="text",c="[a-zA-Z ]{2,15}"):a=="Group Number"||a=="Frame Number"?(l="Must contain 2 to 20 digits",s="number",c="[0-9 ]{2,15}"):a=="Roll Number"&&(l="Must contain 2 to 20 characters",s="text",c="[a-zA-Z0-9 ]{2,15}");const u=a.charAt(0).toLowerCase()+a.replaceAll(" ","").slice(1);return h("div",{className:"mb-2",children:[e("label",{htmlFor:"name",className:"block mb-2 text-sm text-gray-600",children:a}),e("input",{title:l,pattern:c,defaultValue:t.editData[u],name:a,type:s,required:!0,disabled:u=="registeredId",className:"w-full px-3 py-2 placeholder-gray-300 border border-gray-300 rounded-md  focus:outline-none focus:ring focus:ring-indigo-100 focus:border-indigo-300"})]},d)}),e("div",{className:"mb-2",children:e("button",{type:"submit",className:"w-full px-2 py-4 text-white bg-indigo-600 rounded-md  focus:bg-indigo-500 focus:outline-none",children:"Save"})}),e("div",{className:"mb-2",children:e("button",{type:"submit",className:"w-full px-2 py-4 text-white bg-red-600 rounded-md  focus:bg-red-500 focus:outline-none",onClick:a=>{t.setShowEditData(!1)},children:"Cancel"})})]})})})})})}var W=[{registeredId:"67691645",clientName:"admin",groupNumber:"545451",frameNumber:"223231",rollNumber:"ABC86881",uploadDate:"2/21/2022 2:40:32 PM",lastModified:"2/21/2022 2:40:32 PM"},{registeredId:"67691646",clientName:"admin",groupNumber:"545452",frameNumber:"223232",rollNumber:"ABC86882",uploadDate:"1/21/2022 2:40:32 PM",lastModified:"1/21/2022 2:40:32 PM"},{registeredId:"67691647",clientName:"admin",groupNumber:"545453",frameNumber:"223233",rollNumber:"ABC86883",uploadDate:"1/21/2022 1:40:32 PM",lastModified:"1/21/2022 1:40:32 PM"},{registeredId:"67691648",clientName:"admin",groupNumber:"545454",frameNumber:"223234",rollNumber:"ABC86884",uploadDate:"3/21/2022 10:40:32 PM",lastModified:"3/21/2022 10:40:32 PM"},{registeredId:"67691649",clientName:"admin",groupNumber:"545455",frameNumber:"223235",rollNumber:"ABC86885",uploadDate:"2/10/2022 5:40:32 AM",lastModified:"2/10/2022 5:40:32 AM"},{registeredId:"67691650",clientName:"admin",groupNumber:"545456",frameNumber:"223236",rollNumber:"ABC86886",uploadDate:"3/21/2022 2:40:32 PM",lastModified:"3/21/2022 2:40:32 PM"},{registeredId:"67691651",clientName:"admin",groupNumber:"545457",frameNumber:"223237",rollNumber:"ABC86887",uploadDate:"3/21/2022 2:40:32 PM",lastModified:"3/21/2022 2:40:32 PM"},{registeredId:"67691652",clientName:"admin",groupNumber:"545458",frameNumber:"223238",rollNumber:"ABC86888",uploadDate:"3/20/2022 2:40:32 PM",lastModified:"3/20/2022 2:40:32 PM"}];function X(){return e("div",{className:"flex justify-center mt-2 mt-20",children:h("div",{className:"flex flex-col justify-between w-1/1 px-10 py-2 text-red-700 bg-red-100 rounded",children:[e("h5",{className:"font-bold",children:"No records found "}),e("p",{className:"text-sm",children:"Sorry , we could not find any records for the search"})]})})}const Y=()=>{const[t,r]=b.exports.useState(W),[a,d]=b.exports.useState(""),[l,s]=b.exports.useState([]),[c,u]=b.exports.useState(!1),[y,N]=b.exports.useState({}),M=["Client Name","Group Number","Frame Number","Roll Number"],A=["Registered Id","Client Name","Group Number","Frame Number","Roll Number"],I=["Registered Id","Client Name","Group Number","Frame Number","Roll Number","Upload Date","Last Modified"],v=(i,m)=>{let f=[];t.forEach(n=>{for(const[p,o]of Object.entries(n))i.replaceAll(" ","").toLowerCase()===p.toLowerCase()&&o===m&&f.push(n)}),d(""),s(f),N({}),u(!1)},R=i=>{const m={},f=new Date;for(let n=0;n<i.elements.length;n++)if(i.elements[n].type=="text"||i.elements[n].type=="number"){const p=i.elements[n].name.charAt(0).toLowerCase()+i.elements[n].name.replaceAll(" ","").slice(1);m[p]=i.elements[n].value}m.uploadDate=f.toLocaleDateString()+" "+f.toLocaleTimeString(),m.lastModified=f.toLocaleDateString()+" "+f.toLocaleTimeString(),r(n=>[...n,m]),d(""),N({}),u(!1)},k=i=>{let m=t.filter(n=>i.registeredId!=n.registeredId),f=l.filter(n=>i.registeredId!=n.registeredId);r(m),s(f),N({})},L=()=>{N({}),u(!0)},P=i=>{const m={},f=new Date;for(let o=0;o<i.elements.length;o++)if(i.elements[o].type=="text"||i.elements[o].type=="number"){const E=i.elements[o].name.charAt(0).toLowerCase()+i.elements[o].name.replaceAll(" ","").slice(1);m[E]=i.elements[o].value}m.lastModified=f.toLocaleDateString()+" "+f.toLocaleTimeString();let n=t.map(o=>m.registeredId==o.registeredId?x(g({},m),{uploadDate:o.uploadDate}):o),p=l.map(o=>m.registeredId==o.registeredId?x(g({},m),{uploadDate:o.uploadDate}):o);r(n),s(p),N({})};return b.exports.useEffect(()=>{v("clientName","admin")},[]),h(b.exports.Fragment,{children:[e("div",{className:"container",children:h("div",{className:"inner-container",children:[h("div",{className:"flex flex-row",children:[h("div",{children:[e(Z,{setSearchText:d}),a.trim().length>0&&e($,{val:a.trim(),fetchClientData:v})]}),e("button",{className:"px-10 py-2 text-white bg-indigo-600 mx-10 rounded-md",type:"button",onClick:L,children:"Add"})]}),!l.length==0?e(K,{tableHeader:I,searchResults:l,setShowEditData:N,deleteClientData:k,setShowUploadForm:u}):e(X,{})]})}),!Object.keys(y).length==0&&e(Q,{headers:A,setShowEditData:N,editData:y,updateClientData:P}),c&&e(J,{headers:M,setShowUploadForm:u,addClientData:R})]})};H.render(e(O.StrictMode,{children:e(Y,{})}),document.getElementById("root"));
