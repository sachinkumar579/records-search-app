var F=Object.defineProperty,U=Object.defineProperties;var B=Object.getOwnPropertyDescriptors;var w=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable;var C=(t,r,a)=>r in t?F(t,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[r]=a,g=(t,r)=>{for(var a in r||(r={}))L.call(r,a)&&C(t,a,r[a]);if(w)for(var a of w(r))_.call(r,a)&&C(t,a,r[a]);return t},x=(t,r)=>U(t,B(r));import{j as S,r as f,R as M,a as O}from"./vendor.388569d3.js";const H=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))c(l);new MutationObserver(l=>{for(const d of l)if(d.type==="childList")for(const p of d.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&c(p)}).observe(document,{childList:!0,subtree:!0});function a(l){const d={};return l.integrity&&(d.integrity=l.integrity),l.referrerpolicy&&(d.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?d.credentials="include":l.crossorigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function c(l){if(l.ep)return;l.ep=!0;const d=a(l);fetch(l.href,d)}};H();const $="_row_zi81e_1";var D={row:$,"display-search":"_display-search_zi81e_18"};const e=S.exports.jsx,m=S.exports.jsxs,T=t=>typeof t!="string"?!1:!isNaN(t)&&!isNaN(parseFloat(t)),z=t=>{let r;return T(t.val.replaceAll(" ","").replaceAll("-",""))?r=["Registered Id","Group Number","Frame Number"]:r=["Client Name","Roll Number"],e("div",{className:D["display-search"],children:r.map((a,c)=>{const l=`${a} : ${t.val}`;return e("div",{onClick:()=>t.fetchClientData(a,t.val),className:D.row,tabIndex:0,onKeyUp:d=>{d.key=="Enter"&&t.fetchClientData(a,t.val)},children:l},c)})})},G=t=>e("div",{className:"container flex mx-auto",children:e("div",{className:"flex border-2 rounded",children:e("input",{defaultValue:"admin",type:"text",className:"px-4 py-2 w-80",placeholder:"Search...",onChange:r=>t.setSearchText(r.target.value),onClick:r=>t.setSearchText(r.target.value)})})});var V={"search-results":"_search-results_1kav1_1"};const q=t=>e("div",{children:e("div",{className:"container flex justify-center mx-auto",children:e("div",{className:"flex flex-col",children:e("div",{className:"w-full",children:e("div",{className:"border-b border-gray-200 shadow",children:m("table",{className:"divide-y divide-gray-300 ",children:[e("thead",{className:"bg-gray-50",children:e("tr",{children:t.cols.map((r,a)=>e("th",{className:"px-6 py-2 text-xs text-gray-500",children:r},a))})}),e("tbody",{className:"bg-white divide-y divide-gray-300",children:t.searchResults.map((r,a)=>m("tr",{className:"whitespace-nowrap",children:[e("td",{className:"px-6 py-4 text-sm text-gray-500",children:r.registeredId}),e("td",{className:"px-6 py-4 text-sm text-gray-500",children:r.clientName}),e("td",{className:"px-6 py-4 text-sm text-gray-500",children:r.groupNumber}),e("td",{className:"px-6 py-4 text-sm text-gray-500",children:r.frameNumber}),e("td",{className:"px-6 py-4 text-sm text-gray-500",children:r.rollNumber}),e("td",{className:"px-6 py-4 text-sm text-gray-500",children:r.uploadDate}),e("td",{className:"px-6 py-4",children:e("a",{href:"#",className:"px-4 py-1 text-sm text-white bg-blue-400 rounded",onClick:()=>{t.setShowUploadForm(!1),t.setShowEditData(r)},children:"Edit"})}),e("td",{className:"px-6 py-4",children:e("a",{href:"#",className:"px-4 py-1 text-sm text-white bg-red-400 rounded",onClick:()=>{t.setShowUploadForm(!1),t.deleteClientData(r)},children:"Delete"})})]},a))})]})})})})})}),K=t=>{const r=["Registered Id","Client Name","Group Number","Frame Number","Roll Number","Upload Date"];return e("div",{className:V["search-results"],children:e(q,{cols:r,searchResults:t.searchResults,setShowEditData:t.setShowEditData,deleteClientData:t.deleteClientData,setShowUploadForm:t.setShowUploadForm})})};function P(t){return e("div",{className:"upload-form",children:e("div",{className:"container mx-auto",children:e("div",{className:"max-w-xl p-2 mx-auto my-10 bg-white rounded-md shadow-sm",children:e("div",{children:m("form",{autoComplete:"off",onSubmit:a=>{a.preventDefault(),t.addClientData(a.target)},children:[t.headers.map((a,c)=>m("div",{className:"mb-2",children:[e("label",{htmlFor:"name",className:"block mb-2 text-sm text-gray-600",children:a}),e("input",{title:"Must contain 2 to 20 characters",pattern:"[a-zA-Z0-9]{2,15}",name:a,type:"text",required:!0,className:"w-full px-3 py-2 placeholder-gray-300 border border-gray-300 rounded-md  focus:outline-none focus:ring focus:ring-indigo-100 focus:border-indigo-300"})]},c)),e("div",{className:"mb-2",children:e("button",{type:"submit",className:"w-full px-2 py-4 text-white bg-indigo-500 rounded-md  focus:bg-indigo-600 focus:outline-none",children:"Add"})}),e("div",{className:"mb-2",children:e("button",{type:"submit",className:"w-full px-2 py-4 text-white bg-red-500 rounded-md  focus:bg-red-600 focus:outline-none",onClick:a=>t.setShowUploadForm(!1),children:"Cancel"})})]})})})})})}function Z(t){return e("div",{className:"edit-form",children:e("div",{className:"container mx-auto ",children:e("div",{className:"max-w-xl p-2 mx-auto my-10 bg-white rounded-md shadow-sm",children:e("div",{children:m("form",{autoComplete:"off",onSubmit:a=>{a.preventDefault(),t.updateClientData(a.target)},children:[t.headers.map((a,c)=>{const l=a.charAt(0).toLowerCase()+a.replaceAll(" ","").slice(1);return m("div",{className:"mb-2",children:[e("label",{htmlFor:"name",className:"block mb-2 text-sm text-gray-600",children:a}),e("input",{title:"Must contain 2 to 20 characters",pattern:"[a-zA-Z0-9]{2,15}",defaultValue:t.editData[l],name:a,type:"text",required:!0,disabled:l=="registeredId",className:"w-full px-3 py-2 placeholder-gray-300 border border-gray-300 rounded-md  focus:outline-none focus:ring focus:ring-indigo-100 focus:border-indigo-300"})]},c)}),e("div",{className:"mb-2",children:e("button",{type:"submit",className:"w-full px-2 py-4 text-white bg-indigo-500 rounded-md  focus:bg-indigo-600 focus:outline-none",children:"Save"})}),e("div",{className:"mb-2",children:e("button",{type:"submit",className:"w-full px-2 py-4 text-white bg-red-500 rounded-md  focus:bg-red-600 focus:outline-none",onClick:a=>{a.preventDefault(),t.setShowEditData(!1)},children:"Cancel"})})]})})})})})}var J=[{registeredId:"67691645",clientName:"admin",groupNumber:"545451",frameNumber:"223231",rollNumber:"ABC86881",uploadDate:"10-03-2022"},{registeredId:"67691646",clientName:"admin",groupNumber:"545452",frameNumber:"223232",rollNumber:"ABC86882",uploadDate:"13-03-2022"},{registeredId:"67691647",clientName:"admin",groupNumber:"545453",frameNumber:"223233",rollNumber:"ABC86883",uploadDate:"14-03-2022"},{registeredId:"67691648",clientName:"admin",groupNumber:"545454",frameNumber:"223234",rollNumber:"ABC86884",uploadDate:"15-03-2022"},{registeredId:"67691649",clientName:"admin",groupNumber:"545455",frameNumber:"223235",rollNumber:"ABC86885",uploadDate:"16-03-2022"},{registeredId:"67691650",clientName:"admin",groupNumber:"545456",frameNumber:"223236",rollNumber:"ABC86886",uploadDate:"01-03-2022"},{registeredId:"67691651",clientName:"admin",groupNumber:"545457",frameNumber:"223237",rollNumber:"ABC86887",uploadDate:"10-03-2022"},{registeredId:"67691652",clientName:"admin",groupNumber:"545458",frameNumber:"223238",rollNumber:"ABC86888",uploadDate:"10-03-2022"}];function Y(){return e("div",{className:"flex justify-center mt-2 mt-20",children:m("div",{className:"flex flex-col justify-between w-1/1 px-10 py-2 text-red-700 bg-red-100 rounded",children:[e("h5",{className:"font-bold",children:"No records found "}),e("p",{className:"text-sm",children:"Sorry , we could not find any records for the search"})]})})}const Q=()=>{const[t,r]=f.exports.useState(J),[a,c]=f.exports.useState(""),[l,d]=f.exports.useState([]),[p,N]=f.exports.useState(!1),[y,h]=f.exports.useState({}),A=["Client Name","Group Number","Frame Number","Roll Number"],I=["Registered Id","Client Name","Group Number","Frame Number","Roll Number"],v=(i,o)=>{let u=[];t.forEach(n=>{for(const[s,b]of Object.entries(n))i.replaceAll(" ","").toLowerCase()===s.toLowerCase()&&b===o&&u.push(n)}),c(""),d(u),h({}),N(!1)},R=i=>{const o={},u=new Date;for(let n=0;n<i.elements.length;n++)if(i.elements[n].type=="text"){const s=i.elements[n].name.charAt(0).toLowerCase()+i.elements[n].name.replaceAll(" ","").slice(1);o[s]=i.elements[n].value}o.registeredId=Math.round(1e8*Math.random()),o.uploadDate=u.getDate()+"-"+(u.getMonth()+1)+"-"+u.getFullYear(),r(n=>[...n,o]),c(""),h({}),N(!1)},k=i=>{let o=t.filter(n=>i.registeredId!=n.registeredId),u=l.filter(n=>i.registeredId!=n.registeredId);r(o),d(u),h({})},E=()=>{h({}),N(!0)},j=i=>{const o={};for(let s=0;s<i.elements.length;s++)if(i.elements[s].type=="text"){const b=i.elements[s].name.charAt(0).toLowerCase()+i.elements[s].name.replaceAll(" ","").slice(1);o[b]=i.elements[s].value}let u=t.map(s=>o.registeredId==s.registeredId?x(g({},o),{uploadDate:s.uploadDate}):s),n=l.map(s=>o.registeredId==s.registeredId?x(g({},o),{uploadDate:s.uploadDate}):s);r(u),d(n),h({})};return f.exports.useEffect(()=>{v("clientName","admin")},[]),e("div",{className:"container",children:m("div",{className:"inner-container",children:[m("div",{className:"flex flex-row",children:[m("div",{children:[e(G,{setSearchText:c}),a!=""&&e(z,{val:a,fetchClientData:v})]}),e("div",{children:e("button",{className:"px-4 py-2 text-white bg-indigo-600 mx-10",type:"button",onClick:E,children:"Add"})})]}),!l.length==0?e(K,{searchResults:l,setShowEditData:h,deleteClientData:k,setShowUploadForm:N}):e(Y,{}),!Object.keys(y).length==0&&e(Z,{headers:I,setShowEditData:h,editData:y,updateClientData:j}),p&&e(P,{headers:A,setShowUploadForm:N,addClientData:R})]})})};M.render(e(O.StrictMode,{children:e(Q,{})}),document.getElementById("root"));
