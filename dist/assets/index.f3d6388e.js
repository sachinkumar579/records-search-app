var j=Object.defineProperty,U=Object.defineProperties;var B=Object.getOwnPropertyDescriptors;var w=Object.getOwnPropertySymbols;var F=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var C=(t,a,r)=>a in t?j(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r,g=(t,a)=>{for(var r in a||(a={}))F.call(a,r)&&C(t,r,a[r]);if(w)for(var r of w(a))H.call(a,r)&&C(t,r,a[r]);return t},x=(t,a)=>U(t,B(a));import{j as D,r as p,R as _,a as O}from"./vendor.388569d3.js";const T=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))m(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&m(c)}).observe(document,{childList:!0,subtree:!0});function r(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerpolicy&&(s.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?s.credentials="include":l.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function m(l){if(l.ep)return;l.ep=!0;const s=r(l);fetch(l.href,s)}};T();const z="_row_zi81e_1";var S={row:z,"display-search":"_display-search_zi81e_18"};const e=D.exports.jsx,f=D.exports.jsxs,G=t=>typeof t!="string"?!1:!isNaN(t)&&!isNaN(parseFloat(t)),$=t=>{let a;return G(t.val.replaceAll(" ","").replaceAll("-",""))?a=["Registered Id","Group Number","Frame Number"]:a=["Client Name","Roll Number"],e("div",{className:S["display-search"],children:a.map((r,m)=>{const l=`${r} : ${t.val}`;return e("div",{onClick:()=>t.fetchClientData(r,t.val),className:S.row,tabIndex:0,onKeyUp:s=>{s.key=="Enter"&&t.fetchClientData(r,t.val)},children:l},m)})})},V=t=>e("div",{className:"container flex mx-auto",children:e("div",{className:"flex border-2 rounded",children:e("input",{defaultValue:"admin",type:"text",className:"px-4 py-2 w-80",placeholder:"Search...",onChange:a=>t.setSearchText(a.target.value),onClick:a=>t.setSearchText(a.target.value)})})});var Z={"search-results":"_search-results_1kav1_1"};const q=t=>e("div",{children:e("div",{className:"container flex justify-center mx-auto",children:e("div",{className:"flex flex-col",children:e("div",{className:"w-full",children:e("div",{className:"border border-gray-200 shadow",children:f("table",{className:"divide-y divide-gray-300 ",children:[e("thead",{className:"bg-gray-50",children:e("tr",{children:t.cols.map((a,r)=>e("th",{className:"px-6 py-2 text-sm text-gray-700",children:a},r))})}),e("tbody",{className:"bg-white divide-y divide-gray-300",children:t.searchResults.map((a,r)=>f("tr",{className:"whitespace-nowrap",children:[e("td",{className:"px-6 py-4 text-sm text-gray-700",children:a.registeredId}),e("td",{className:"px-6 py-4 text-sm text-gray-700",children:a.clientName}),e("td",{className:"px-6 py-4 text-sm text-gray-700",children:a.groupNumber}),e("td",{className:"px-6 py-4 text-sm text-gray-700",children:a.frameNumber}),e("td",{className:"px-6 py-4 text-sm text-gray-700",children:a.rollNumber}),e("td",{className:"px-6 py-4 text-sm text-gray-700",children:a.uploadDate}),e("td",{className:"px-6 py-4 text-sm text-gray-700",children:a.lastModified}),e("td",{className:"px-6 py-4",children:e("a",{href:"#",className:"px-4 py-1 text-sm text-white bg-blue-400 rounded",onClick:()=>{t.setShowUploadForm(!1),t.setShowEditData(a)},children:"Edit"})}),e("td",{className:"px-6 py-4",children:e("a",{href:"#",className:"px-4 py-1 text-sm text-white bg-red-400 rounded",onClick:()=>{t.setShowUploadForm(!1),t.deleteClientData(a)},children:"Delete"})})]},r))})]})})})})})}),K=t=>e("div",{className:Z["search-results"],children:e(q,{cols:t.tableHeader,searchResults:t.searchResults,setShowEditData:t.setShowEditData,deleteClientData:t.deleteClientData,setShowUploadForm:t.setShowUploadForm})});function J(t){return e("div",{className:"upload-form border border-gray-400 shadow",children:e("div",{className:"container mx-auto",children:e("div",{className:"max-w-xl p-2 mx-auto my-10 bg-white rounded-md shadow-sm",children:e("div",{children:f("form",{autoComplete:"off",onSubmit:r=>{r.preventDefault(),t.addClientData(r.target)},children:[t.headers.map((r,m)=>{let l,s,c;return r=="Client Name"?(l="Must contain 2 to 20 characters",s="text",c="[a-zA-Z ]{2,15}"):r=="Group Number"||r=="Frame Number"?(l="Must contain 2 to 20 digits",s="number",c="[0-9 ]{2,15}"):r=="Roll Number"&&(l="Must contain 2 to 20 characters",s="text",c="[a-zA-Z0-9 ]{2,15}"),f("div",{className:"mb-2",children:[e("label",{htmlFor:"name",className:"block mb-2 text-sm text-gray-600",children:r}),e("input",{title:l,pattern:c,name:r,type:s,required:!0,className:"w-full px-3 py-2 placeholder-gray-300 border border-gray-300 rounded-md  focus:outline-none focus:ring focus:ring-indigo-100 focus:border-indigo-300"})]},m)}),e("div",{className:"mb-2",children:e("button",{type:"submit",className:"w-full px-2 py-4 text-white bg-indigo-600 rounded-md  focus:bg-indigo-500 focus:outline-none",children:"Add"})}),e("div",{className:"mb-2",children:e("button",{type:"submit",className:"w-full px-2 py-4 text-white bg-red-600 rounded-md  focus:bg-red-500 focus:outline-none",onClick:r=>t.setShowUploadForm(!1),children:"Cancel"})})]})})})})})}function Q(t){return e("div",{className:"edit-form border border-gray-400 shadow",children:e("div",{className:"container mx-auto ",children:e("div",{className:"max-w-xl p-2 mx-auto my-10 bg-white rounded-md shadow-sm",children:e("div",{children:f("form",{autoComplete:"off",onSubmit:r=>{r.preventDefault(),t.updateClientData(r.target)},children:[t.headers.map((r,m)=>{let l,s,c;r=="Client Name"?(l="Must contain 2 to 20 characters",s="text",c="[a-zA-Z ]{2,15}"):r=="Group Number"||r=="Frame Number"?(l="Must contain 2 to 20 digits",s="number",c="[0-9 ]{2,15}"):r=="Roll Number"&&(l="Must contain 2 to 20 characters",s="text",c="[a-zA-Z0-9 ]{2,15}");const h=r.charAt(0).toLowerCase()+r.replaceAll(" ","").slice(1);return f("div",{className:"mb-2",children:[e("label",{htmlFor:"name",className:"block mb-2 text-sm text-gray-600",children:r}),e("input",{title:l,pattern:c,defaultValue:t.editData[h],name:r,type:s,required:!0,disabled:h=="registeredId",className:"w-full px-3 py-2 placeholder-gray-300 border border-gray-300 rounded-md  focus:outline-none focus:ring focus:ring-indigo-100 focus:border-indigo-300"})]},m)}),e("div",{className:"mb-2",children:e("button",{type:"submit",className:"w-full px-2 py-4 text-white bg-indigo-600 rounded-md  focus:bg-indigo-500 focus:outline-none",children:"Save"})}),e("div",{className:"mb-2",children:e("button",{type:"submit",className:"w-full px-2 py-4 text-white bg-red-600 rounded-md  focus:bg-red-500 focus:outline-none",onClick:r=>{t.setShowEditData(!1)},children:"Cancel"})})]})})})})})}var W=[{registeredId:"67691645",clientName:"admin",groupNumber:"545451",frameNumber:"223231",rollNumber:"ABC86881",uploadDate:"2/21/2022 2:40:32 PM",lastModified:"2/21/2022 2:40:32 PM"},{registeredId:"67691646",clientName:"admin",groupNumber:"545452",frameNumber:"223232",rollNumber:"ABC86882",uploadDate:"1/21/2022 2:40:32 PM",lastModified:"1/21/2022 2:40:32 PM"},{registeredId:"67691647",clientName:"admin",groupNumber:"545453",frameNumber:"223233",rollNumber:"ABC86883",uploadDate:"1/21/2022 1:40:32 PM",lastModified:"1/21/2022 1:40:32 PM"},{registeredId:"67691648",clientName:"admin",groupNumber:"545454",frameNumber:"223234",rollNumber:"ABC86884",uploadDate:"3/21/2022 10:40:32 PM",lastModified:"3/21/2022 10:40:32 PM"},{registeredId:"67691649",clientName:"admin",groupNumber:"545455",frameNumber:"223235",rollNumber:"ABC86885",uploadDate:"2/10/2022 5:40:32 AM",lastModified:"2/10/2022 5:40:32 AM"},{registeredId:"67691650",clientName:"admin",groupNumber:"545456",frameNumber:"223236",rollNumber:"ABC86886",uploadDate:"3/21/2022 2:40:32 PM",lastModified:"3/21/2022 2:40:32 PM"},{registeredId:"67691651",clientName:"admin",groupNumber:"545457",frameNumber:"223237",rollNumber:"ABC86887",uploadDate:"3/21/2022 2:40:32 PM",lastModified:"3/21/2022 2:40:32 PM"},{registeredId:"67691652",clientName:"admin",groupNumber:"545458",frameNumber:"223238",rollNumber:"ABC86888",uploadDate:"3/20/2022 2:40:32 PM",lastModified:"3/20/2022 2:40:32 PM"}];function X(){return e("div",{className:"flex justify-center mt-2 mt-20",children:f("div",{className:"flex flex-col justify-between w-1/1 px-10 py-2 text-red-700 bg-red-100 rounded",children:[e("h5",{className:"font-bold",children:"No records found "}),e("p",{className:"text-sm",children:"Sorry , we could not find any records for the search"})]})})}const Y=()=>{const[t,a]=p.exports.useState(W),[r,m]=p.exports.useState(""),[l,s]=p.exports.useState([]),[c,h]=p.exports.useState(!1),[y,N]=p.exports.useState({}),M=["Client Name","Group Number","Frame Number","Roll Number"],A=["Registered Id","Client Name","Group Number","Frame Number","Roll Number"],I=["Registered Id","Client Name","Group Number","Frame Number","Roll Number","Upload Date","Last Modified"],v=(d,o)=>{let u=[];t.forEach(i=>{for(const[b,n]of Object.entries(i))d.replaceAll(" ","").toLowerCase()===b.toLowerCase()&&n===o&&u.push(i)}),m(""),s(u),N({}),h(!1)},R=d=>{const o={},u=new Date;for(let i=0;i<d.elements.length;i++)if(d.elements[i].type=="text"||d.elements[i].type=="number"){const b=d.elements[i].name.charAt(0).toLowerCase()+d.elements[i].name.replaceAll(" ","").slice(1);o[b]=d.elements[i].value}o.registeredId=Math.round(1e8*Math.random()),o.uploadDate=u.toLocaleDateString()+" "+u.toLocaleTimeString(),o.lastModified=u.toLocaleDateString()+" "+u.toLocaleTimeString(),a(i=>[...i,o]),m(""),N({}),h(!1)},L=d=>{let o=t.filter(i=>d.registeredId!=i.registeredId),u=l.filter(i=>d.registeredId!=i.registeredId);a(o),s(u),N({})},k=()=>{N({}),h(!0)},P=d=>{const o={},u=new Date;for(let n=0;n<d.elements.length;n++)if(d.elements[n].type=="text"||d.elements[n].type=="number"){const E=d.elements[n].name.charAt(0).toLowerCase()+d.elements[n].name.replaceAll(" ","").slice(1);o[E]=d.elements[n].value}o.lastModified=u.toLocaleDateString()+" "+u.toLocaleTimeString();let i=t.map(n=>o.registeredId==n.registeredId?x(g({},o),{uploadDate:n.uploadDate}):n),b=l.map(n=>o.registeredId==n.registeredId?x(g({},o),{uploadDate:n.uploadDate}):n);a(i),s(b),N({})};return p.exports.useEffect(()=>{v("clientName","admin")},[]),e("div",{className:"container",children:f("div",{className:"inner-container",children:[f("div",{className:"flex flex-row",children:[f("div",{children:[e(V,{setSearchText:m}),r!=""&&e($,{val:r,fetchClientData:v})]}),e("button",{className:"px-10 py-2 text-white bg-indigo-600 mx-10 rounded-md",type:"button",onClick:k,children:"Add"})]}),!l.length==0?e(K,{tableHeader:I,searchResults:l,setShowEditData:N,deleteClientData:L,setShowUploadForm:h}):e(X,{}),!Object.keys(y).length==0&&e(Q,{headers:A,setShowEditData:N,editData:y,updateClientData:P}),c&&e(J,{headers:M,setShowUploadForm:h,addClientData:R})]})})};_.render(e(O.StrictMode,{children:e(Y,{})}),document.getElementById("root"));
